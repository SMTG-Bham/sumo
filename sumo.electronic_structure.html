
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sumo.electronic_structure package &#8212; sumo 1.1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="sumo.phonon package" href="sumo.phonon.html" />
    <link rel="prev" title="sumo.cli package" href="sumo.cli.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="sumo-electronic-structure-package">
<h1>sumo.electronic_structure package<a class="headerlink" href="#sumo-electronic-structure-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-sumo.electronic_structure">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sumo.electronic_structure" title="Permalink to this headline">¶</a></h2>
<p>Package containing functions for manipulating electron structure data.</p>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-sumo.electronic_structure.bandstructure">
<span id="sumo-electronic-structure-bandstructure-module"></span><h2>sumo.electronic_structure.bandstructure module<a class="headerlink" href="#module-sumo.electronic_structure.bandstructure" title="Permalink to this headline">¶</a></h2>
<p>Module containing helper functions for dealing with band structures.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Extend get projections to allow specifying lm orbitals and atomic sites.</p></li>
</ul>
</div>
<dl class="py function">
<dt id="sumo.electronic_structure.bandstructure.force_branches">
<code class="sig-prename descclassname">sumo.electronic_structure.bandstructure.</code><code class="sig-name descname">force_branches</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bandstructure</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/bandstructure.html#force_branches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.bandstructure.force_branches" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a linemode band structure to contain branches.</p>
<p>Branches give a specific portion of the path from one high-symmetry point
to another. Branches are required for the plotting methods to function correctly.
Unfortunately, due to the pymatgen BandStructure implementation they require
duplicate k-points in the band structure path. To avoid this unnecessary
computational expense, this function can reconstruct branches in band structures
without the duplicate k-points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bandstructure</strong> – A band structure object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A band structure with brnaches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.bandstructure.get_projections">
<code class="sig-prename descclassname">sumo.electronic_structure.bandstructure.</code><code class="sig-name descname">get_projections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bs</span></em>, <em class="sig-param"><span class="n">selection</span></em>, <em class="sig-param"><span class="n">normalise</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/bandstructure.html#get_projections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.bandstructure.get_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns orbital projections from a band structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bs</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.bandstructure.html#pymatgen.electronic_structure.bandstructure.BandStructureSymmLine" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BandStructureSymmLine</span></code></a>) – The band structure.</p></li>
<li><p><strong>selection</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – <p>A list of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> or <a class="reference external" href="https://docs.python.org/3.6/library/string.html#module-string" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code></a>
identifying which projections to return. Projections can be
specified by both element and orbital, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>If just the element is specified then all the orbitals of
that element are combined. For example, the following will combine
all the S orbitals into a single projection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">),</span> <span class="s1">&#39;S&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Particular orbitals can also be combined, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>normalise</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – <p>Normalisation the projections.
Options are:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'all'</span></code>: Projections normalised against the sum of all</dt><dd><p>other projections.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'select'</span></code>: Projections normalised against the sum of the</dt><dd><p>selected projections.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No normalisation performed.</p></li>
</ul>
</div></blockquote>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <code class="docutils literal notranslate"><span class="pre">list</span></code> of orbital projections, in the same order as specified
in <code class="docutils literal notranslate"><span class="pre">selection</span></code>, with the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">{</span><span class="n">spin</span><span class="p">:</span> <span class="n">projections</span><span class="p">},</span> <span class="p">{</span><span class="n">spin</span><span class="p">:</span> <span class="n">projections</span><span class="p">}</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<p>Where spin is a <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.core.html#pymatgen.electronic_structure.core.Spin" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.electronic_structure.core.Spin</span></code></a>
object and projections is a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">projections</span><span class="p">[</span><span class="n">band_index</span><span class="p">][</span><span class="n">kpoint_index</span><span class="p">]</span>
</pre></div>
</div>
<p>If there are no projections in the band structure, then an array of
zeros is returned for each spin.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.bandstructure.get_projections_by_branches">
<code class="sig-prename descclassname">sumo.electronic_structure.bandstructure.</code><code class="sig-name descname">get_projections_by_branches</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bs</span></em>, <em class="sig-param"><span class="n">selection</span></em>, <em class="sig-param"><span class="n">normalise</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/bandstructure.html#get_projections_by_branches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.bandstructure.get_projections_by_branches" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns orbital projections for each branch in a band structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bs</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.bandstructure.html#pymatgen.electronic_structure.bandstructure.BandStructureSymmLine" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BandStructureSymmLine</span></code></a>) – The band structure.</p></li>
<li><p><strong>selection</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – <p>A list of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> or <a class="reference external" href="https://docs.python.org/3.6/library/string.html#module-string" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code></a>
identifying which projections to return. Projections can be
specified by both element and orbital, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;Sn&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>If just the element is specified then all the orbitals of that
element are combined. For example, the following will combine
all the S orbitals into a single projection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">),</span> <span class="s1">&#39;S&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Particular orbitals can also be combined, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bi&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>normalise</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – <p>Normalisation the projections.
Options are:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'all'</span></code>: Projections normalised against the sum of all</dt><dd><p>other projections.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'select'</span></code>: Projections normalised against the sum of the</dt><dd><p>selected projections.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No normalisation performed.</p></li>
</ul>
</div></blockquote>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <code class="docutils literal notranslate"><span class="pre">list</span></code> of orbital projections for each branch of the band
structure, in the same order as specified in <code class="docutils literal notranslate"><span class="pre">selection</span></code>, with
the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">[</span> <span class="p">{</span><span class="n">spin</span><span class="p">:</span> <span class="n">projections</span><span class="p">}</span> <span class="p">],</span> <span class="p">[</span> <span class="p">{</span><span class="n">spin</span><span class="p">:</span> <span class="n">projections</span><span class="p">}</span> <span class="p">],</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<p>Where spin is a <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.core.html#pymatgen.electronic_structure.core.Spin" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.electronic_structure.core.Spin</span></code></a>
object and projections is a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">projections</span><span class="p">[</span><span class="n">band_index</span><span class="p">][</span><span class="n">kpoint_index</span><span class="p">]</span>
</pre></div>
</div>
<p>If there are no projections in the band structure, then an array of
zeros is returned for each spin.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.bandstructure.get_reconstructed_band_structure">
<code class="sig-prename descclassname">sumo.electronic_structure.bandstructure.</code><code class="sig-name descname">get_reconstructed_band_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_bs</span></em>, <em class="sig-param"><span class="n">efermi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/bandstructure.html#get_reconstructed_band_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.bandstructure.get_reconstructed_band_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine a list of band structures into a single band structure.</p>
<p>This is typically very useful when you split non self consistent
band structure runs in several independent jobs and want to merge back
the results.</p>
<p>This method will also ensure that any BandStructure objects will contain
branches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_bs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of         <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.bandstructure.html#pymatgen.electronic_structure.bandstructure.BandStructure" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BandStructure</span></code></a>         or <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.bandstructure.html#pymatgen.electronic_structure.bandstructure.BandStructureSymmLine" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BandStructureSymmLine</span></code></a>) – The band structures.</p></li>
<li><p><strong>efermi</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional) – The Fermi energy of the reconstructed
band structure. If <cite>None</cite>, an average of all the Fermi energies
across all band structures is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A band structure object. The type depends on the type of the band
structures in <code class="docutils literal notranslate"><span class="pre">list_bs</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.bandstructure.html#pymatgen.electronic_structure.bandstructure.BandStructure" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.electronic_structure.bandstructure.BandStructure</span></code></a> or         <code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.electronic_structure.bandstructureBandStructureSymmLine</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.bandstructure.string_to_spin">
<code class="sig-prename descclassname">sumo.electronic_structure.bandstructure.</code><code class="sig-name descname">string_to_spin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spin_string</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/bandstructure.html#string_to_spin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.bandstructure.string_to_spin" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to convert ‘spin’ cli argument to pymatgen Spin object</p>
</dd></dl>

</div>
<div class="section" id="module-sumo.electronic_structure.dos">
<span id="sumo-electronic-structure-dos-module"></span><h2>sumo.electronic_structure.dos module<a class="headerlink" href="#module-sumo.electronic_structure.dos" title="Permalink to this headline">¶</a></h2>
<p>Module containing helper functions for dealing with
<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> and
<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.CompleteDos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CompleteDos</span></code></a> objects.</p>
<dl class="py function">
<dt id="sumo.electronic_structure.dos.get_element_pdos">
<code class="sig-prename descclassname">sumo.electronic_structure.dos.</code><code class="sig-name descname">get_element_pdos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dos</span></em>, <em class="sig-param"><span class="n">element</span></em>, <em class="sig-param"><span class="n">sites</span></em>, <em class="sig-param"><span class="n">lm_orbitals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">orbitals</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/dos.html#get_element_pdos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.dos.get_element_pdos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the projected density of states for an element.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.CompleteDos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CompleteDos</span></code></a>) – The
density of states.</p></li>
<li><p><strong>element</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Element symbol. E.g. ‘Zn’.</p></li>
<li><p><strong>sites</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><em>tuple</em></a>) – The atomic indices over which to sum the density of
states, as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>. Indices are zero based for each
element. For example, <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">1,</span> <span class="pre">2)</span></code> will sum the density of states
for the 1st, 2nd and 3rd sites of the element specified.</p></li>
<li><p><strong>lm_orbitals</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – The orbitals to decompose into
their lm contributions (e.g. p -&gt; px, py, pz). Should be provided
as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. For example, <code class="docutils literal notranslate"><span class="pre">('p')</span></code>, will
extract the projected density of states for the px, py, and pz
orbitals. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>orbitals</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – The orbitals to extract from the
projected density of states. Should be provided as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. For example, <code class="docutils literal notranslate"><span class="pre">('s',</span> <span class="pre">'px',</span> <span class="pre">'dx2')</span></code> will extract the
s, px, and dx2 orbitals, only. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all orbitals will be
extracted. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The projected density of states. Formatted as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
mapping the orbitals to <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a>
objects. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">,</span>
    <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="n">Dos</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.dos.get_pdos">
<code class="sig-prename descclassname">sumo.electronic_structure.dos.</code><code class="sig-name descname">get_pdos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dos</span></em>, <em class="sig-param"><span class="n">lm_orbitals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">atoms</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">elements</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/dos.html#get_pdos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.dos.get_pdos" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the projected density of states from a CompleteDos object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.CompleteDos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CompleteDos</span></code></a>) – The
density of states.</p></li>
<li><p><strong>elements</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The elements and orbitals to extract
from the projected density of states. Should be provided as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> with the keys as the element names and corresponding
values as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of orbitals. For example, the following
would extract the Bi s, px, py and d orbitals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Bi&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;px&#39;</span><span class="p">,</span> <span class="s1">&#39;py&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)}</span>
</pre></div>
</div>
<p>If an element is included with an empty <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, all orbitals
for that species will be extracted. If <code class="docutils literal notranslate"><span class="pre">elements</span></code> is not set or
set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, all elements for all species will be extracted.</p>
</p></li>
<li><p><strong>lm_orbitals</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The orbitals to decompose into
their lm contributions (e.g. p -&gt; px, py, pz). Should be provided
as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, with the elements names as keys and a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of orbitals as the corresponding values. For example,
the following would be used to decompose the oxygen p and d
orbitals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>atoms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>Which atomic sites to use when
calculating the projected density of states. Should be provided as
a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, with the element names as keys and a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of
<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> specifying the atomic indices as the corresponding
values. The elemental projected density of states will be summed
only over the atom indices specified. If an element is included
with an empty <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, then all sites for that element will
be included. The indices are 0 based for each element specified in
the POSCAR. For example, the following will calculate the density
of states for the first 4 Sn atoms and all O atoms in the
structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Sn&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="p">(,</span> <span class="p">)}</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">atoms</span></code> is not set or set to <code class="docutils literal notranslate"><span class="pre">None</span></code> then all atomic sites
for all elements will be considered.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The projected density of states. Formatted as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> of
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> mapping the elements and their orbitals to
<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> objects. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Bi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="n">Dos</span> <span class="o">...</span> <span class="p">},</span>
    <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.dos.load_dos">
<code class="sig-prename descclassname">sumo.electronic_structure.dos.</code><code class="sig-name descname">load_dos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vasprun</span></em>, <em class="sig-param"><span class="n">elements</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lm_orbitals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">atoms</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gaussian</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">total_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">adjust_fermi</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/dos.html#load_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.dos.load_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a vasprun and extract the total and projected density of states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vasprun</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to a vasprun.xml or vasprun.xml.gz file or
a <a class="reference external" href="https://pymatgen.org/pymatgen.io.vasp.outputs.html#pymatgen.io.vasp.outputs.Vasprun" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.io.vasp.outputs.Vasprun</span></code></a> object.</p></li>
<li><p><strong>elements</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The elements and orbitals to extract
from the projected density of states. Should be provided as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> with the keys as the element names and corresponding
values as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of orbitals. For example, the following
would extract the Bi s, px, py and d orbitals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Bi&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;px&#39;</span><span class="p">,</span> <span class="s1">&#39;py&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)}</span>
</pre></div>
</div>
<p>If an element is included with an empty <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, all orbitals
for that species will be extracted. If <code class="docutils literal notranslate"><span class="pre">elements</span></code> is not set or
set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, all elements for all species will be extracted.</p>
</p></li>
<li><p><strong>lm_orbitals</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The orbitals to decompose into
their lm contributions (e.g. p -&gt; px, py, pz). Should be provided
as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, with the elements names as keys and a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of orbitals as the corresponding values. For example,
the following would be used to decompose the oxygen p and d
orbitals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>atoms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>Which atomic sites to use when
calculating the projected density of states. Should be provided as
a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, with the element names as keys and a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of
<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> specifying the atomic indices as the corresponding
values. The elemental projected density of states will be summed
only over the atom indices specified. If an element is included
with an empty <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, then all sites for that element will
be included. The indices are 0 based for each element specified in
the POSCAR. For example, the following will calculate the density
of states for the first 4 Sn atoms and all O atoms in the
structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Sn&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="p">(,</span> <span class="p">)}</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">atoms</span></code> is not set or set to <code class="docutils literal notranslate"><span class="pre">None</span></code> then all atomic sites
for all elements will be considered.</p>
</p></li>
<li><p><strong>gaussian</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional) – Broaden the density of states using
convolution with a gaussian function. This parameter controls the
sigma or standard deviation of the gaussian distribution.</p></li>
<li><p><strong>total_only</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Only extract the total density of
states. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>log</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Print logging messages. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>adjust_fermi</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Shift the Fermi level to sit at
the valence band maximum (does not affect metals).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The total and projected density of states. Formatted as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <code class="docutils literal notranslate"><span class="pre">(dos,</span> <span class="pre">pdos)</span></code>, where <code class="docutils literal notranslate"><span class="pre">dos</span></code> is a
<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> object containing the
total density of states and <code class="docutils literal notranslate"><span class="pre">pdos</span></code> is a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> of
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> mapping the elements and their orbitals to
<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> objects. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Bi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="n">Dos</span> <span class="o">...</span> <span class="p">},</span>
    <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.dos.sort_orbitals">
<code class="sig-prename descclassname">sumo.electronic_structure.dos.</code><code class="sig-name descname">sort_orbitals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element_pdos</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/dos.html#sort_orbitals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.dos.sort_orbitals" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the orbitals of an element’s projected density of states.</p>
<p>Sorts the orbitals based on a standard format. E.g. s &lt; p &lt; d.
Will also sort lm decomposed orbitals. This is useful for plotting/saving.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element_pdos</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – <p>An element’s pdos. Should be formatted as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> of <code class="docutils literal notranslate"><span class="pre">{orbital:</span> <span class="pre">dos}</span></code>. Where dos is a
<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> object. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">dos</span><span class="p">,</span> <span class="s1">&#39;px&#39;</span><span class="p">:</span> <span class="n">dos</span><span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The sorted orbitals.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.dos.write_files">
<code class="sig-prename descclassname">sumo.electronic_structure.dos.</code><code class="sig-name descname">write_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dos</span></em>, <em class="sig-param"><span class="n">pdos</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zero_to_efermi</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/dos.html#write_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.dos.write_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the density of states data to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> or              <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.CompleteDos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CompleteDos</span></code></a>) – The total
density of states.</p></li>
<li><p><strong>pdos</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – <p>The projected density of states. Formatted as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> mapping the elements and their orbitals
to <a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.dos.html#pymatgen.electronic_structure.dos.Dos" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dos</span></code></a> objects. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Bi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">},</span>
    <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">Dos</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – A prefix for file names.</p></li>
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The directory in which to save files.</p></li>
<li><p><strong>zero_to_efermi</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Normalise the energy such
that the Fermi level is set as 0 eV.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sumo.electronic_structure.effective_mass">
<span id="sumo-electronic-structure-effective-mass-module"></span><h2>sumo.electronic_structure.effective_mass module<a class="headerlink" href="#module-sumo.electronic_structure.effective_mass" title="Permalink to this headline">¶</a></h2>
<p>Module containing helper functions for calculating band effective masses.</p>
<dl class="py function">
<dt id="sumo.electronic_structure.effective_mass.fit_effective_mass">
<code class="sig-prename descclassname">sumo.electronic_structure.effective_mass.</code><code class="sig-name descname">fit_effective_mass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">distances</span></em>, <em class="sig-param"><span class="n">energies</span></em>, <em class="sig-param"><span class="n">parabolic</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/effective_mass.html#fit_effective_mass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.effective_mass.fit_effective_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the effective masses using either a parabolic or nonparabolic fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distances</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – The x-distances between k-points in
reciprocal Angstroms, normalised to the band extrema.</p></li>
<li><p><strong>energies</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – The band eigenvalues normalised to the
eigenvalue of the band extrema.</p></li>
<li><p><strong>parabolic</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Use a parabolic fit of the band
edges. If <code class="docutils literal notranslate"><span class="pre">False</span></code> then nonparabolic fitting will be attempted.
Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The effective mass in units of electron rest mass, <span class="math notranslate nohighlight">\(m_0\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.effective_mass.get_fitting_data">
<code class="sig-prename descclassname">sumo.electronic_structure.effective_mass.</code><code class="sig-name descname">get_fitting_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bs</span></em>, <em class="sig-param"><span class="n">spin</span></em>, <em class="sig-param"><span class="n">band_id</span></em>, <em class="sig-param"><span class="n">kpoint_id</span></em>, <em class="sig-param"><span class="n">num_sample_points</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/effective_mass.html#get_fitting_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.effective_mass.get_fitting_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract fitting data for band extrema based on spin, kpoint and band.</p>
<p>Searches forward and backward from the extrema point, but will only sample
there data if there are enough points in that direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bs</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.bandstructure.html#pymatgen.electronic_structure.bandstructure.BandStructureSymmLine" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BandStructureSymmLine</span></code></a>) – The band structure.</p></li>
<li><p><strong>spin</strong> (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.core.html#pymatgen.electronic_structure.core.Spin" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Spin</span></code></a>) – Which spin
channel to sample.</p></li>
<li><p><strong>band_id</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Index of the band to sample.</p></li>
<li><p><strong>kpoint_id</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Index of the kpoint to sample.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The data necessary to calculate the effective mass, along with
some metadata. Formatted as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, each with the
keys:</p>
<dl class="simple">
<dt>’energies’ (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>)</dt><dd><p>Band eigenvalues in eV.</p>
</dd>
<dt>’distances’ (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>)</dt><dd><p>Distances of the k-points in reciprocal space.</p>
</dd>
<dt>’band_id’ (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</dt><dd><p>The index of the band,</p>
</dd>
<dt>’spin’ (<a class="reference external" href="https://pymatgen.org/pymatgen.electronic_structure.core.html#pymatgen.electronic_structure.core.Spin" title="(in pymatgen v2020.9.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Spin</span></code></a>)</dt><dd><p>The spin channel</p>
</dd>
<dt>’start_kpoint’ (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</dt><dd><p>The index of the k-point at which the band extrema occurs</p>
</dd>
<dt>’end_kpoint’ (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</dt><dd><p>The k-point towards which the data has been sampled.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sumo.electronic_structure.optics">
<span id="sumo-electronic-structure-optics-module"></span><h2>sumo.electronic_structure.optics module<a class="headerlink" href="#module-sumo.electronic_structure.optics" title="Permalink to this headline">¶</a></h2>
<p>Module containing functions to process dielectric and optical absorption data.</p>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Remove magic values</p></li>
</ul>
</div>
<dl class="py function">
<dt id="sumo.electronic_structure.optics.broaden_eps">
<code class="sig-prename descclassname">sumo.electronic_structure.optics.</code><code class="sig-name descname">broaden_eps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dielectric</span></em>, <em class="sig-param"><span class="n">sigma</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/optics.html#broaden_eps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.optics.broaden_eps" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply gaussian broadening to the dielectric response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dielectric</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><em>tuple</em></a>) – <p>The high-frequency dielectric data, following
the same format as
<a class="reference external" href="https://pymatgen.org/pymatgen.io.vasp.outputs.html#pymatgen.io.vasp.outputs.Vasprun.dielectric" title="(in pymatgen v2020.9.14)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pymatgen.io.vasp.outputs.Vasprun.dielectric</span></code></a>.
This is a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> containing the energy, the real part of the
dielectric tensor, and the imaginary part of the tensor, as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">floats</span></code>. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="p">[</span><span class="n">energies</span><span class="p">],</span>
    <span class="p">[[</span><span class="n">real_xx</span><span class="p">,</span> <span class="n">real_yy</span><span class="p">,</span> <span class="n">real_zz</span><span class="p">,</span> <span class="n">real_xy</span><span class="p">,</span> <span class="n">real_yz</span><span class="p">,</span> <span class="n">real_xz</span><span class="p">]],</span>
    <span class="p">[[</span><span class="n">imag_xx</span><span class="p">,</span> <span class="n">imag_yy</span><span class="p">,</span> <span class="n">imag_zz</span><span class="p">,</span> <span class="n">imag_xy</span><span class="p">,</span> <span class="n">imag_yz</span><span class="p">,</span> <span class="n">imag_xz</span><span class="p">]]</span>
<span class="p">)</span>
</pre></div>
</div>
</p></li>
<li><p><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Standard deviation for gaussian broadening.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The
broadened dielectric response. Returned as a tuple containing the
energy, the real part of the dielectric tensor, and the imaginary
part of the tensor. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="p">[</span><span class="n">energies</span><span class="p">],</span>
    <span class="p">[[</span><span class="n">real_xx</span><span class="p">,</span> <span class="n">real_yy</span><span class="p">,</span> <span class="n">real_zz</span><span class="p">,</span> <span class="n">real_xy</span><span class="p">,</span> <span class="n">real_yz</span><span class="p">,</span> <span class="n">real_xz</span><span class="p">]],</span>
    <span class="p">[[</span><span class="n">imag_xx</span><span class="p">,</span> <span class="n">imag_yy</span><span class="p">,</span> <span class="n">imag_zz</span><span class="p">,</span> <span class="n">imag_xy</span><span class="p">,</span> <span class="n">imag_yz</span><span class="p">,</span> <span class="n">imag_xz</span><span class="p">]]</span>
<span class="p">)</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.optics.calculate_dielectric_properties">
<code class="sig-prename descclassname">sumo.electronic_structure.optics.</code><code class="sig-name descname">calculate_dielectric_properties</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dielectric</span></em>, <em class="sig-param"><span class="n">properties</span></em>, <em class="sig-param"><span class="n">average</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/optics.html#calculate_dielectric_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.optics.calculate_dielectric_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate optical properties from the dielectric function</p>
<p>Supported properties:</p>
<p><em>Absorption</em></p>
<p>The unit of alpha is <span class="math notranslate nohighlight">\(\mathrm{cm}^{-1}\)</span>.</p>
<p>Refractive index <span class="math notranslate nohighlight">\(n\)</span> has real and imaginary parts:</p>
<div class="math notranslate nohighlight">
\[n = [(e^\prime + ie^{\prime\prime} / e_0]^{1/2}
  = n^\prime + in^{\prime\prime}\]</div>
<p>Relationship between <span class="math notranslate nohighlight">\(a\)</span> and imaginary <span class="math notranslate nohighlight">\(n^{\prime\prime}\)</span>:</p>
<div class="math notranslate nohighlight">
\[a = 4 \pi n^{\prime\prime} / \lambda\]</div>
<p>Where:</p>
<div class="math notranslate nohighlight">
\[\lambda = hc/E\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dielectric</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><em>tuple</em></a>) – <p>The high-frequency dielectric data, following
the same format as <code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.io.vasp.Vasprun.dielectric</span></code>.
This is a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> containing the energy, the real part of the
dielectric tensor, and the imaginary part of the tensor, as a
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">floats</span></code>. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="p">[</span><span class="n">energies</span><span class="p">],</span>
    <span class="p">[[</span><span class="n">real_xx</span><span class="p">,</span> <span class="n">real_yy</span><span class="p">,</span> <span class="n">real_zz</span><span class="p">,</span> <span class="n">real_xy</span><span class="p">,</span> <span class="n">real_yz</span><span class="p">,</span> <span class="n">real_xz</span><span class="p">]],</span>
    <span class="p">[[</span><span class="n">imag_xx</span><span class="p">,</span> <span class="n">imag_yy</span><span class="p">,</span> <span class="n">imag_zz</span><span class="p">,</span> <span class="n">imag_xy</span><span class="p">,</span> <span class="n">imag_yz</span><span class="p">,</span> <span class="n">imag_xz</span><span class="p">]]</span>
<span class="p">)</span>
</pre></div>
</div>
</p></li>
<li><p><strong>properties</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#set" title="(in Python v3.6)"><em>set</em></a>) – The set of properties to return. Intermediate properties will be
calculated as needed. Accepted values: ‘eps_real’, ‘eps_im’,
‘absorption’, ‘loss’, ‘n_real’, ‘n_imag’</p></li>
<li><p><strong>average</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Average the dielectric response across
the xx, yy, zz directions and calculate properties with scalar
maths. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>. If False, solve dielectric matrix to
obtain directional properties, returning xx, yy, zz components.
This may be significantly slower!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The optical
absorption in <span class="math notranslate nohighlight">\(\mathrm{cm}^{-1}\)</span>. If <code class="docutils literal notranslate"><span class="pre">average</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the
data will be returned as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="n">energies</span><span class="p">],</span> <span class="p">[</span><span class="nb">property</span><span class="p">])</span><span class="o">.</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">average</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, the data will be returned as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="n">energies</span><span class="p">],</span> <span class="p">[</span><span class="n">property_xx</span><span class="p">,</span> <span class="n">property_yy</span><span class="p">,</span> <span class="n">property_zz</span><span class="p">])</span><span class="o">.</span>
</pre></div>
</div>
<p>In both cases these are collected in a results dictionary with keys
corresponding to the selected properties, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;absorption&#39;</span><span class="p">:</span> <span class="p">([</span><span class="n">energies</span><span class="p">],</span> <span class="p">[</span><span class="n">absorption</span><span class="p">]),</span>
 <span class="s1">&#39;eps_real&#39;</span><span class="p">:</span> <span class="p">([</span><span class="n">energies</span><span class="p">],</span> <span class="p">[</span><span class="n">eps_real</span><span class="p">])}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.optics.kkr">
<code class="sig-prename descclassname">sumo.electronic_structure.optics.</code><code class="sig-name descname">kkr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">de</span></em>, <em class="sig-param"><span class="n">eps_imag</span></em>, <em class="sig-param"><span class="n">cshift</span><span class="o">=</span><span class="default_value">1e-06</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/optics.html#kkr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.optics.kkr" title="Permalink to this definition">¶</a></dt>
<dd><p>Kramers Kronig transformation of imaginary dielectric function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>de</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>) – Energy difference between evenly-spaced energy
values corresponding to dielectric data</p></li>
<li><p><strong>eps_imag</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.array</span></code>) – Evenly-spaced sequence of
frequency-dependent 3x3 dielectric matrices (imaginary component
only)</p></li>
<li><p><strong>cshift</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional) – imaginary finite shift used in
integration; this should be small (and results should not be very
sensitive)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) Real part of frequency-dependent dielectric function
corresponding to eps_imag. Array shape (NEDOS, 3, 3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sumo.electronic_structure.optics.write_files">
<code class="sig-prename descclassname">sumo.electronic_structure.optics.</code><code class="sig-name descname">write_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">abs_data</span></em>, <em class="sig-param"><span class="n">basename</span><span class="o">=</span><span class="default_value">'absorption'</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sumo/electronic_structure/optics.html#write_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sumo.electronic_structure.optics.write_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the absorption or loss spectra to a file.</p>
<p>Note that this function expects to receive an iterable series of spectra.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abs_data</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><em>tuple</em></a>) – <p>Series (either <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>) of
optical absorption or loss spectra. Each spectrum should be
formatted as a <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>. If the
data has been averaged, each spectrum should be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="n">energies</span><span class="p">],</span> <span class="p">[</span><span class="n">alpha</span><span class="p">])</span>
</pre></div>
</div>
<p>Else, if the data has not been averaged, each spectrum should be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="n">energies</span><span class="p">],</span> <span class="p">[</span><span class="n">alpha_xx</span><span class="p">,</span> <span class="n">alpha_yy</span><span class="p">,</span> <span class="n">alpha_zz</span><span class="p">])</span><span class="o">.</span>
</pre></div>
</div>
</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Prefix for file names.</p></li>
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The directory in which to save files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">sumo</a></h1>



<p class="blurb">Heavy weight plotting tools</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=SMTG-UCL&repo=sumo&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Python API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="sumo.html">sumo package</a></li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Scanlon Materials Theory Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/sumo.electronic_structure.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>